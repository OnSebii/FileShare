(function(t){function e(e){for(var s,i,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05b8":function(t,e,a){"use strict";a("4b8e")},"06a3":function(t,e,a){},"17ca":function(t,e,a){},2787:function(t,e,a){"use strict";a("3616")},3616:function(t,e,a){},"459f":function(t,e,a){},"4b8e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],i=a("2877"),o={},l=Object(i["a"])(o,n,r,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-dark"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("File Share")]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/help"}},[t._v("Help")])],1)]),a("span",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link btn custom-front-button",attrs:{to:"/login"}},[t._v("Login")])],1)])]),a("div",{staticClass:"container"},[a("div",{staticClass:"text-center landing-title-body"},[a("h1",{staticClass:"glitch"},[t._v("File Share")]),a("h5",[t._v(" Upload your file anonym ")]),a("div",{staticClass:"row mx-auto w-50"},[a("div",{staticClass:"custom-file col"},[a("input",t._b({ref:"upload",staticClass:"custom-file-input",attrs:{type:"file",name:"upload",id:"inputGroupFile02"},on:{change:t.onFileChange}},"input",t.file,!1)),a("label",{staticClass:"custom-file-label custom-input text-left",attrs:{for:"inputGroupFile02"}},[t._v(t._s(t.fileName))])]),a("button",{staticClass:"btn custom-front-button col-sm-3",on:{click:t.uploadFile}},[t._v("Upload")])]),t.uploadedFile?a("div",{staticClass:"my-2"},[a("span",[t._v("Your File: ")]),a("a",{ref:"fileLink",attrs:{href:t.uploadedFile}},[t._v(t._s(t.uploadedFile))]),a("button",{staticClass:"btn btn-primary mx-2",on:{click:t.copyURL}},[t._v("Copy")])]):t._e()]),t._m(0),a("hr"),a("h3",{staticClass:"text-center"},[t._v("About")]),t._m(1),a("hr"),a("h3",{staticClass:"text-center"},[t._v("Features")]),a("br"),t._m(2),a("hr"),a("h3",{staticClass:"text-center m-3 mb-4"},[t._v("How to use it?")]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h4",[t._v("Share your files anonym")]),a("span",[t._v(" You can upload your files anonymously on our "),a("a",{staticClass:"linkColor",on:{click:t.scrollToTop}},[t._v("homepage")]),t._v(" (this page). The uploaded anonymous files will be automatically deleted after 7 days from our system. After you have uploaded your file you will get a url back that you can share with your friends. Anyone who has this url can see the uploaded content. ")])]),t._m(3),t._m(4),t._m(5)])]),a("div",{staticClass:"landing-footer-body footer-bottom container"},[t._m(6),a("div",{staticClass:"float-right"},[a("span",{staticClass:"footer-title"},[t._v("Links")]),a("br"),a("a",{attrs:{target:"_blank",href:"https://material.io/resources/icons/"}},[t._v("Icons")]),a("router-link",{attrs:{to:"/login"}},[t._v("Login")]),a("router-link",{attrs:{to:"/help#tos"}},[t._v("Terms Of Service")]),a("router-link",{attrs:{to:"/help#pp"}},[t._v("Privacy Policy")])],1)])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("a",{attrs:{id:"subtitle"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[a("strong",[t._v("How is File Share Unique?")])]),a("span",[t._v(" There are currently no other services online where you can upload and share your files for free. With File Share you don’t have to create a user account to upload and share your files. Either you use the anonymous function on our main page, or you can "),a("a",{staticClass:"linkColor",attrs:{href:"/register"}},[t._v("create")]),t._v(" an account. Our system deletes all anonymous uploaded files after 7 days for your security. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("done_all")]),a("h4",{staticClass:"card-title"},[t._v("Easy to use")]),a("span",{staticClass:"card-text"},[t._v("We are easy to use. Just upload your file and share it with your friends.")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("accessibility")]),a("h4",{staticClass:"card-title"},[t._v("Made for everyone")]),a("span",{staticClass:"card-text"},[t._v("Made for everyone! This is our slogan.")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("attach_money")]),a("h4",{staticClass:"card-title"},[t._v("No payments")]),a("span",{staticClass:"card-text"},[t._v("We say no to payments. We're completely free to use.")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("https")]),a("h4",{staticClass:"card-title"},[t._v("Security")]),a("span",{staticClass:"card-text"},[t._v("We are full HTTPS protected.")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("hourglass_empty")]),a("h4",{staticClass:"card-title"},[t._v("Auto delete")]),a("span",{staticClass:"card-text"},[t._v("(File Share) will automatically delete all files which get uploaded anonymously.")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("i",{staticClass:"material-icons mi"},[t._v("folder_open")]),a("h4",{staticClass:"card-title"},[t._v("Open Source")]),a("span",{staticClass:"card-text"},[t._v(" Our whole project is open source. You can find the source code on "),a("a",{staticClass:"linkColor",attrs:{href:"https://github.com/OnSebii/FileShare",target:"_blank"}},[t._v("GitHub")]),t._v(" . ")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6 mb-5"},[a("img",{staticClass:"rounded mx-auto d-block col-12",attrs:{src:"/gif/UploadAnon.gif",alt:"Placeholder Gif"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6"},[s("img",{staticClass:"rounded mx-auto d-block",attrs:{src:a("fbf6"),alt:"Placeholder image"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("h4",[t._v("Login and share your files")]),a("a",[t._v(" Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-left"},[a("span",{staticClass:"footer-title"},[t._v("Copyright © 2021 | File Share | All rights reserved")]),a("br"),a("a",[t._v("Email: admin@domain.name")])])}],p=a("1da1"),f=(a("96cf"),a("b0c0"),a("99af"),a("bc3a")),v=a.n(f),h={name:"Home",data:function(){return{file:"",fileName:"no file selected",uploadedFile:""}},methods:{onFileChange:function(t){this.file=t.target.files[0],this.fileName=this.file.name},uploadFile:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("upload",t.file),e.prev=2,e.next=5,v()({url:"/upload-anon",method:"post",contentType:"multipart/form-data",data:a});case 5:s=e.sent,n=s.data,t.uploadedFile="".concat(window.location.host,"/").concat(n),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},copyURL:function(){var t;document.selection?(t=document.body.createTextRange(),t.moveToElementText(this.$refs.fileLink),t.select(),document.execCommand("copy")):window.getSelection&&(t=document.createRange(),t.selectNode(this.$refs.fileLink),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),document.execCommand("copy"))},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){console.log(localStorage.getItem("id"))}},g=h,b=(a("5e87"),Object(i["a"])(g,d,m,!1,null,"6e8ff2c6",null)),_=b.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",attrs:{id:"screen"}},[a("div",{staticClass:"d-flex flex-column align-items-center p-4 bg-dark rounded",staticStyle:{width:"300px"}},[t._m(0),a("h4",{staticClass:"font-weight-normal"},[t._v("Please sign in")]),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control input-field",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control input-field",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn mt-3 highlighted-button mr-1",on:{click:t.login}},[t._v(" Login ")]),a("router-link",{attrs:{to:"/register"}},[a("button",{staticClass:"btn background-button mt-3",attrs:{to:"/register"}},[t._v(" Register ")])])],1),a("p",{staticClass:"mt-3 mb-3 text-muted"},[t._v("© 2021 Fileshare")]),t.message?a("p",{staticClass:"mb-3 text-danger"},[t._v("An error occurred")]):t._e()])])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"icon mt-2 mb-1"},[a("i",{staticClass:"fas fa-users"})])}],y={name:"Login",data:function(){return{email:"lang.s03@htlwienwest.at",password:"1",message:!1}},methods:{login:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"/login",method:"post",contentType:"application/json",data:{email:t.email,password:t.password}});case 3:a=e.sent,s=a.data,n=s.firstname,r=s.lastname,i=s.email,console.log(n,r,i),localStorage.setItem("firstname",n),localStorage.setItem("lastname",r),localStorage.setItem("email",i),t.$router.push({name:"Dashboard"}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),t.message=!0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}},created:function(){localStorage.getItem("email")&&(this.email=localStorage.getItem("email"),localStorage.clear())}},x=y,A=(a("c09c"),Object(i["a"])(x,C,w,!1,null,"6bd57562",null)),k=A.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",attrs:{id:"screen"}},[a("form",{staticClass:"d-flex flex-column align-items-center p-4 bg-dark rounded"},[t._m(0),a("h4",{staticClass:"font-weight-normal"},[t._v("Create an account")]),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputFirst"}},[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"form-control input-field",attrs:{type:"text",id:"inputFirst",placeholder:"First name",required:"",autofocus:""},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}}),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputLast"}},[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"form-control input-field",attrs:{type:"text",id:"inputLast",placeholder:"Last name",required:"",autofocus:""},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control input-field",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{staticClass:"mt-3 w-100",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control input-field",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn mt-3 highlighted-button mr-1",attrs:{type:"button"},on:{click:t.register}},[t._v(" Register ")]),a("router-link",{attrs:{to:"/login"}},[a("button",{staticClass:"btn background-button mt-3",attrs:{type:"button"}},[t._v("Login")])])],1),a("p",{staticClass:"mt-3 mb-3 text-muted"},[t._v("© 2021 Fileshare")]),t.message?a("p",{staticClass:"mb-3 text-danger"},[t._v("An error occurred")]):t._e()])])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"icon mt-2 mb-1"},[a("i",{staticClass:"fas fa-user-plus"})])}],T={data:function(){return{email:"",password:"",firstname:"",lastname:"",message:!1}},methods:{register:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"/register",method:"post",contentType:"application/json",data:{email:t.email,password:t.password,firstname:t.firstname,lastname:t.lastname}});case 3:localStorage.setItem("email",t.email),t.$router.push({name:"Login"}),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),t.message=!0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},j=T,S=(a("6e9f"),Object(i["a"])(j,F,D,!1,null,"34f184ea",null)),E=S.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-sm"},[a("h3",{staticClass:"text-center m-3"},[t._v("File Share")]),a("div",{staticClass:"row"},[a("ul",{staticClass:"col-2"},[a("li",{staticClass:"active",attrs:{id:"tosLi"}},[a("a",{attrs:{href:"#tos"},on:{click:function(e){return t.enableDisableEl("tos",!0)}}},[t._v("Terms Of Service")])]),a("li",{attrs:{id:"ppLi"}},[a("a",{attrs:{href:"#pp"},on:{click:function(e){return t.enableDisableEl("pp",!0)}}},[t._v("Privacy Policy")])])]),a("div",{staticClass:"col-10"},[a("div",{attrs:{id:"tos"}},[a("a",{on:{click:function(e){return t.enableDisableEl("tos")}}},[t._v("Terms of Service")]),1==t.displayTos?a("div",[a("a",[t._v("Note: Remove the scroll-behavior property to remove smooth scrolling.")])]):t._e()]),a("br"),a("div",{attrs:{id:"pp"}},[a("a",{on:{click:function(e){return t.enableDisableEl("pp")}}},[t._v("Privacy Policy")]),1==t.displayPp?a("div",[a("a",[t._v("Note: Remove the scroll-behavior property to remove smooth scrolling.")])]):t._e()])])])])])},O=[],U={data:function(){return{displayTos:!1,displayPp:!1}},created:function(){},methods:{enableDisableEl:function(t,e){e?("tos"==t&&(this.displayTos=!0),"pp"==t&&(this.displayPp=!0)):("tos"==t&&(this.displayTos=!this.displayTos),"pp"==t&&(this.displayPp=!this.displayPp))}}},L=U,R=(a("2787"),Object(i["a"])(L,P,O,!1,null,"41c5a14d",null)),N=R.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container my-4"},[a("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark py-2 rounded"},[t._m(0),a("div",{staticClass:"collapse navbar-collapse navbar-right"},[a("ul",{staticClass:"nav navbar-nav ml-auto"},[a("li",{staticClass:"nav-item",attrs:{"data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._m(1),a("div",{staticClass:"dropdown-menu dropdown-menu-right custom-dropdown px-3"},[a("p",{staticClass:"my-2"},[a("span",{staticClass:"font-weight-bold text-white"},[t._v("Email:")]),t._v(" "+t._s(t.user.email)+" ")]),a("p",{staticClass:"mb-2"},[a("span",{staticClass:"font-weight-bold text-white"},[t._v("Name:")]),t._v(" "+t._s(t.user.firstname)+" "+t._s(t.user.lastname)+" ")]),a("p",{staticClass:"dropdown-item custom-dropdown-item p-0 mt-1 mb-3 text-white",on:{click:function(e){t.activeMenu="settings"}}},[t._v(" Edit Account ")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item p-0 mb-1 "},[a("router-link",{attrs:{to:"/logout"}},[t._v("Logout")])],1)])])])])]),"settings"==t.activeMenu?a("div",{staticClass:"mt-3 bg-dark rounded"},[a("form",{staticClass:"p-4"},[a("legend",{staticClass:"mb-3 custom-headline"},[t._v("My Account: "+t._s(t.updateUser.email))]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12 col-sm-6 px-3"},[a("label",{attrs:{for:"inputFirst"}},[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateUser.firstname,expression:"updateUser.firstname"}],staticClass:"form-control custom-input",attrs:{type:"text",id:"inputFirst",placeholder:"First name"},domProps:{value:t.updateUser.firstname},on:{input:function(e){e.target.composing||t.$set(t.updateUser,"firstname",e.target.value)}}})]),a("div",{staticClass:"form-group col-12 col-sm-6 px-3"},[a("label",{attrs:{for:"inputLast"}},[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateUser.lastname,expression:"updateUser.lastname"}],staticClass:"form-control custom-input",attrs:{type:"text",id:"inputLast",placeholder:"Last name"},domProps:{value:t.updateUser.lastname},on:{input:function(e){e.target.composing||t.$set(t.updateUser,"lastname",e.target.value)}}})]),a("div",{staticClass:"form-group col-12 col-sm-6 px-3 pb-2"},[a("label",{attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.updateUser.password,expression:"updateUser.password"}],staticClass:"form-control custom-input",attrs:{type:"password",id:"inputPassword",placeholder:"Password"},domProps:{value:t.updateUser.password},on:{input:function(e){e.target.composing||t.$set(t.updateUser,"password",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v("New password should have at least 8 characters!")])])]),a("button",{staticClass:"btn custom-front-button mb-1 mr-2",attrs:{type:"button"},on:{click:t.userChange}},[t._v(" Save ")]),a("button",{staticClass:"btn mb-1",attrs:{type:"button"},on:{click:function(e){t.activeMenu="main"}}},[t._v(" Discard changes ")]),a("br"),a("button",{staticClass:"btn btn-danger mt-3 mb-1",attrs:{type:"button"},on:{click:t.deleteUser}},[t._v(" Delete User ")])])]):t._e(),"main"==t.activeMenu?a("div",{staticClass:"mt-3 bg-dark rounded"},[a("div",{staticClass:"p-4"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t.files.filter((function(t){return t.admin})).length>0?a("p",{staticClass:"custom-headline"},[t._v("Uploaded Files")]):t._e(),t._m(2)]),t._l(t.files.filter((function(t){return t.admin})),(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:100!=t.progress(new Date(e.upload_date),new Date(e.upload_date).setDate(new Date(e.upload_date).getDate()+7)),expression:"\n            progress(\n              new Date(file.upload_date),\n              new Date(file.upload_date).setDate(new Date(file.upload_date).getDate() + 7),\n            ) != 100\n          "}],key:e.id,staticClass:"card border-secondary mb-3"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center px-3 py-2"},[a("p",{staticClass:"m-0 custom-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("button",{staticClass:"btn btn-sm mr-2 custom-front-button",on:{click:t.copyURL}},[t._v(" Download "),a("i",{staticClass:"fas fa-copy ml-1"})]),e.admin?a("button",{staticClass:"btn btn-sm mr-2 custom-background-button",attrs:{"data-toggle":"modal","data-target":"#shareModal"},on:{click:function(a){return t.openShareModal(e)}}},[t._v(" Share "),a("i",{staticClass:"fas fa-share ml-1"})]):t._e(),e.admin?a("a",{attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"},on:{click:function(a){return t.openDeleteModal(e)}}},[a("i",{staticClass:"fas fa-trash-alt ml-1"})]):t._e()])]),a("div",{staticClass:"card-body px-3 py-2"},[a("div",{staticClass:"d-flex justify-content-between my-1 custom-text"},[a("span",[t._v(t._s(t.formatDateTime(e.upload_date)))]),a("span",[t._v(t._s(t.formatDateTime(new Date(e.upload_date).setDate(new Date(e.upload_date).getDate()+7))))])]),a("div",{staticClass:"progress mb-2 custom-progress"},[a("div",{staticClass:"progress-bar",style:{width:t.progress(new Date(e.upload_date),new Date(e.upload_date).setDate(new Date(e.upload_date).getDate()+7))+"%"},attrs:{role:"progressbar"}})])])])})),a("div",{staticClass:"d-flex justify-content-start align-items-center"},[t.files.filter((function(t){return!t.admin})).length>0?a("p",{staticClass:"custom-headline"},[t._v("Shared Files")]):t._e()]),t._l(t.files.filter((function(t){return!t.admin})),(function(e){return a("div",{key:e.id,staticClass:"card border-secondary mb-3"},[a("div",{staticClass:"card-header d-flex justify-content-between align-items-center px-3 py-2"},[a("p",{staticClass:"m-0 custom-title"},[t._v(t._s(e.name))]),a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("button",{staticClass:"btn btn-sm custom-front-button",on:{click:t.copyURL}},[t._v(" Download "),a("i",{staticClass:"fas fa-copy ml-1"})])])]),a("div",{staticClass:"card-body px-3 py-2"},[a("div",{staticClass:"d-flex justify-content-between my-1 custom-text"},[a("span",[t._v(t._s(t.formatDateTime(e.upload_date)))]),a("span",[t._v(t._s(t.formatDateTime(new Date(e.upload_date).setDate(new Date(e.upload_date).getDate()+7))))])]),a("div",{staticClass:"progress mb-2 custom-progress"},[a("div",{staticClass:"progress-bar",style:{width:t.progress(new Date(e.upload_date),new Date(e.upload_date).setDate(new Date(e.upload_date).getDate()+7))+"%"},attrs:{role:"progressbar"}})])])])}))],2)]):t._e()]),a("div",{staticClass:"modal fade",attrs:{id:"addModal",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),a("div",{staticClass:"modal-body"},[a("label",{attrs:{for:"inputName"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cstmFileName,expression:"cstmFileName"}],staticClass:"form-control custom-input mb-3",attrs:{type:"text",id:"inputName",placeholder:"...",required:"",autofocus:""},domProps:{value:t.cstmFileName},on:{input:function(e){e.target.composing||(t.cstmFileName=e.target.value)}}}),a("label",{staticClass:"d-block"},[t._v("Select File")]),a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"inputGroupFile02"},on:{change:t.onFileChange}}),a("label",{staticClass:"custom-file-label custom-input",attrs:{for:"inputGroupFile02"}},[t._v(t._s(t.fileName))])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn custom-front-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.uploadFile}},[t._v(" Upload ")])])])])]),t.selectedFile?a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(' Delete File "'),a("span",{staticClass:"font-weight-bold text-green"},[t._v(t._s(t.selectedFile.name))]),t._v('"? ')]),t._m(4)]),a("div",{staticClass:"modal-body"},[a("p",[t._v(" Data will be deleted automatically on "+t._s("delete_date")+". When deleting a file before this date, there is no chance to restore it again. ")])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn custom-front-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.deleteFile()}}},[t._v(" Delete ")])])])])]):t._e(),t.selectedFile?a("div",{staticClass:"modal fade",attrs:{id:"shareModal",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(" Share To "),a("span",{staticClass:"text-green font-weight-bold"},[t._v(t._s(t.selectedFile.name))])]),t._m(5)]),a("div",{staticClass:"modal-body"},[a("label",{attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.shareToField,expression:"shareToField"}],staticClass:"form-control custom-input mb-3",attrs:{type:"text",id:"inputEmail",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.shareToField},on:{input:function(e){e.target.composing||(t.shareToField=e.target.value)}}}),a("ul",{staticClass:"list-group mb-1"},t._l(t.fileUsers,(function(e){return a("li",{key:e.email,staticClass:"list-group-item d-flex justify-content-between align-items-center py-2 px-3"},[t._v(" "+t._s(e.email)+" "),e.admin?a("span",[t._v("Owner")]):a("span",{on:{click:function(a){return t.deleteShare(e)}}},[a("i",{staticClass:"fas fa-trash-alt ml-1"})])])})),0)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn custom-front-button",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addUser}},[t._v(" Save ")])])])])]):t._e()])},H=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand ml-2 custom-brand font-weight-bold"},[t._v("FileShare "),a("span",[t._v("Dashboard")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link active"},[a("i",{staticClass:"fas fa-user-circle custom-profile"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"mb-3 custom-plus",attrs:{type:"button","data-toggle":"modal","data-target":"#addModal"}},[a("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(" File Upload ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],I={name:"Login",data:function(){return{activeMenu:"main",user:{firstname:"",lastname:"",email:""},updateUser:null,files:[],selectedFile:null,shareToField:"",fileUsers:[],cstmFileName:"",file:"",fileName:"no file selected",uploadedFile:""}},methods:{onFileChange:function(t){this.file=t.target.files[0],this.fileName=this.file.name},uploadFile:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("upload",t.file),a.append("name",t.cstmFileName),a.append("email",t.user.email),e.prev=4,e.next=7,v()({url:"/upload",method:"post",contentType:"multipart/form-data",data:a});case 7:return s=e.sent,n=s.data,t.uploadedFile="".concat(window.location.host,"/").concat(n),e.next=12,t.getData();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))()},getData:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"/user",method:"post",contentType:"application/json",data:{email:t.user.email}});case 2:a=e.sent,s=a.data,t.files=s.data;case 5:case"end":return e.stop()}}),e)})))()},userChange:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"http://127.0.0.1:3000/user-email",method:"put",contentType:"application/json",data:{email:t.updateUser.email,firstname:t.updateUser.firstname,lastname:t.updateUser.lastname}});case 3:if(a=e.sent,localStorage.setItem("firstname",t.updateUser.firstname),localStorage.setItem("lastname",t.updateUser.lastname),console.log(a),""==t.updateUser.password){e.next=12;break}return e.next=10,v()({url:"/user-password",method:"put",contentType:"application/json",data:{email:t.user.email,new_password:t.updateUser.password}});case 10:a=e.sent,console.log(a);case 12:t.activeMenu="main",e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},format:function(t){return t<10?"0"+t:t},formatDateTime:function(t){var e=new Date(t);return"".concat(this.format(e.getDate()),".").concat(this.format(e.getMonth()+1),".").concat(e.getFullYear()," ").concat(this.format(e.getHours()),":").concat(this.format(e.getMinutes()))},progress:function(t,e){if(t.getTime()>(new Date).getTime())return 0;if(new Date(e).getTime()<(new Date).getTime())return 100;var a=new Date(e).getTime()-t.getTime(),s=(new Date).getTime()-t.getTime();return s/a*100},copyURL:function(){},openShareModal:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.selectedFile=t,a.next=4,v()({url:"/get-file-owner",method:"post",contentType:"application/json",data:{email:e.user.email,id:e.selectedFile.id}});case 4:s=a.sent,n=s.data,e.fileUsers=n,console.log(n),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},addUser:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"/add-user",method:"post",contentType:"application/json",data:{email:t.user.email,id:t.selectedFile.id,new_email:t.shareToField}});case 3:return e.next=5,t.getData();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},openDeleteModal:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.selectedFile=t;case 1:case"end":return a.stop()}}),a)})))()},deleteFile:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"/file",method:"delete",contentType:"application/json",data:{email:t.user.email,id:t.selectedFile.id}});case 3:console.log("File wurde gelöscht."),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},deleteUser:function(){try{console.log("Called")}catch(t){console.log(t)}},deleteShare:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,!confirm('Are you sure to remove this account from file "'.concat(e.selectedFile.name,'"?'))){a.next=9;break}return a.next=4,v()({url:"/remove-file-owner",method:"delete",contentType:"application/json",data:{user_mail:e.user.email,email:t.email,id:e.selectedFile.id}});case 4:return a.next=6,v()({url:"/get-file-owner",method:"post",contentType:"application/json",data:{email:e.user.email,id:e.selectedFile.id}});case 6:s=a.sent,n=s.data,e.fileUsers=n;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}},created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,null!=localStorage.getItem("firstname")&&(t.user.firstname=localStorage.getItem("firstname")),null!=localStorage.getItem("lastname")&&(t.user.lastname=localStorage.getItem("lastname")),null!=localStorage.getItem("email")&&(t.user.email=localStorage.getItem("email")),t.updateUser=t.user,t.updateUser.password="",e.next=8,t.getData();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},$=I,V=(a("05b8"),Object(i["a"])($,M,H,!1,null,"f8f96776",null)),W=V.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",{staticClass:"text-center"},[t._v("Your are logged out!")])])}],G={created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.clear(),e.next=3,v()({url:"http://127.0.0.1:3000/logout",method:"get"});case 3:t.$router.push("/").catch((function(){}));case 4:case"end":return e.stop()}}),e)})))()}},Z=G,K=Object(i["a"])(Z,q,J,!1,null,null,null),X=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("Example: localhost:8080/down?user=anon&file=8hti9S6V4.jpg")]),a("h1",[t._v("Download "+t._s(t.fileName))]),a("button",{staticClass:"btn",attrs:{href:t.file}},[a("i",{staticClass:"fa fa-download"}),t._v(" Download")])])},z=[],Y={name:"Home",data:function(){return{fileName:"",user:"",fileNameDir:"",file:""}},methods:{getFile:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({url:"/download?user=anon&fileName=".concat(t.fileName),method:"get"});case 3:a=e.sent,t.file=a,console.log(t.file),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},created:function(){this.user=this.$route.query.user,this.fileName=this.$route.query.file,this.getFile()}},B=Y,tt=(a("6bf3"),Object(i["a"])(B,Q,z,!1,null,"56d323c0",null)),et=tt.exports;s["a"].use(u["a"]);var at=[{path:"/",name:"Home",component:_},{path:"/login",name:"Login",component:k},{path:"/register",name:"Register",component:E},{path:"/logout",name:"Logout",component:X},{path:"/help",name:"Help",component:N},{path:"/down",name:"Download",component:et},{path:"/dashboard",name:"Dashboard",component:W,beforeEnter:function(t,e,a){nt()||a({name:"Login"}),a()}}],st=new u["a"]({mode:"history",base:"/",routes:at});function nt(){return console.log(s["a"].$cookies.get("sid")),!!s["a"].$cookies.get("sid")}var rt=st,it=a("2b27"),ot=a.n(it);s["a"].config.productionTip=!1,s["a"].use(ot.a),new s["a"]({router:rt,render:function(t){return t(c)}}).$mount("#app")},"5e87":function(t,e,a){"use strict";a("dfb6")},"6bf3":function(t,e,a){"use strict";a("06a3")},"6e9f":function(t,e,a){"use strict";a("17ca")},c09c:function(t,e,a){"use strict";a("459f")},dfb6:function(t,e,a){},fbf6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsBAMAAACLU5NGAAAAG1BMVEXMzMyWlpacnJyqqqrFxcWxsbGjo6O3t7e+vr6He3KoAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD90lEQVR4nO3cwW+bSBQH4AcGw5HnJDhHaN3dHO1su9ojNGnPtrUb7dFuIiVHnEo5263Uv3vfGwab1myVA5DV6vcpgeD35HmeGYbJxUQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/zOb3N5BRexlu9/Jo+NCQFl/HbWrRK7s6Amcdy3jCfaftyOT/OmsnLxSFqkzu04Ns1Z+RxPOMtUc63fH6U5HP8O5/uo1Vyh9IJhTylwSjz0pV0y4Tex0dJ7iij3ck+WiV3J9RPvVhRLgO5O5V+KOSl7MesnXSRH++jNrlDAWurEW0i6ZOz8jI9mlwaDXkftckd8nXEdgnNVjI2sf6Q+VvLSMiMHJnupHC0j9rkrmlL87Lhs7JK86oM1fowVFq0jdrkjn2QKbMuTEvD8aGsfCQ9th9PbzHeR21yt1KWkUq3et+Tq4tDHpnXfZ67+7Zdltu1itrkbrEuRWVLWdmwHbl0shlXSQ7LLVtFbXLXZUmLphHOHK3IsWVtTg6Lk6PFV1Gb3G1Z9I1Xjb015NpSHq7jfntL7reoaW7JhD+pJQ2537llVuyGO1Em17iWJMt7f3ei/zeZcdGlKLDr1saW5XPV9F9bM2pV1CZ3yDxDZFx0HZcF0z+s8rpwVcuWPo5k1KqoTe7QwD58mp6Js/PUTn4tVEatx2ei3lAzu4M4t3uErQl5PN3YOb84NR+gitrkDnl8J51QNO23hjLH7SqQxxnp0trbfotmo9t0RE27U9k9hFw2PuBfLnVD0d/u9KMs8hNq2svrxFqXJXprZtmg9riXp5v0jTRI4afyn5lv1X8+gRaQ22XA/zT6sxatkgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD65tjf/5gXLYtHb/8l8kNZkVw5zEwjIjei8ru7rtJ7/YqcO3ISorTFsiLvt+eXZY7xlp5sWd6b7KscrpeZ80DBus2y6D1dviY3C+QP/9WUnGWkp8GrhZa1fE3DQiK1ssYrurdlDeblwZ86TzTctFuWf/dxPihy+kw31+/IuTOnm2v98I6EwoTe1cuKLsLEluVm5cFLHHf7pc2JKIPoZl4STpfFHzSRfnEyc5pQrmVJiO7l13yRHpdlPQ0LW5ZTHSInWN23WZZMedMJycUq0aa1FT1F1dyK6MugoHpvuY903Fv0a9Jqb+n7apesHlY0KSvRU6233CV9V5Z/RsdzixbzlsvSuUXL4nFOT9mVtq2nw9yiYPx9WebCHGt3IrW7yOnby51IuyzPKEgv9M31dLgTKUgayioH+oqrdavlsp5hWPTb3jM9vnQBjZyLl64AAP43/gHVSaMe2vmdiAAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.930d35d0.js.map